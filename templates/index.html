<!DOCTYPE html>
<html>
    <body>
        <head>
            <title> MEC </title>
            <link rel="stylesheet" href="../static/css/canvas_style.css">
            <link rel="stylesheet" href="../static/css/text_holder_style.css">
            <link rel="stylesheet" href="../static/css/text.css">
            <link rel="stylesheet" href="../static/css/button.css">
            <script>
                var figures_ = {{ generated_figures|tojson }};
                var figures = figures_.map(
                    pair_points => {
                        return pair_points.map(
                            point => {
                                return {x: point[0], y: point[1]}
                            }
                        )
                    });

                var solutions_ = {{ generated_solutions|tojson }};
                var winning_lines = solutions_.map(
                    figure => {
                        return figure.map(
                            pair_points => {
                                return pair_points.map(
                                    point => {
                                        return {x: point[0], y: point[1]}
                                    }
                                )
                            }
                        )
                    });
            </script>

            <style>
                .canvasHolder{
                    position: absolute;
                    left : 0;
                    top : 0;
                    float: left;
                    background: yellow;
                    min-width: 400px;
                    max-width: 800px;
                }
                .canvas{
                    position: absolute;
                    top: 50; 
                    left: 40;
                }
                body{
                    font-family: 'Trebuchet MS', sans-serif;
                }
            </style>
        </head>
        
        <!-- Add the canvas element -->
        <div class="container">
            <div class="canvasHolder">
                <canvas class = "canvas" id="canvasPoints" width="{{ x_size }}" height="{{ y_size }}"></canvas>
                <canvas class="canvas" id="canvasJoiningLines" width="{{ x_size }}" height="{{ y_size }}" > </canvas>
                <canvas class = "canvas" id="canvasLines" width="{{ x_size }}" height="{{ y_size }}"></canvas>
            </div>

            <div class="textHolder">
                <h1 data-text = "Dificulty of this problem is {{ difficulty }}"> </h1>
                <p class="text_p" id="correct_lines"> Correct lines: 0</p>
                <p class="text_p" id="incorrect_lines">  Incorrect lines: 0</p>

                <div class="buttonsHolder">
                    <button class = "button-89" role="button" id="new_game">
                        I want another level
                    </button>
                    <button class = "button-89" role="button" id="finish_game">
                        I don't want to play more   
                    </button>
                </div>
            </div>
        </div>
        

        <!-- Add the script.js file-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="../static/js/draw_points.js"></script>
        <script src="../static/js/new_game.js"></script>
        <script src="../static/js/show_results.js"></script>
        <script src="../static/js/change_color_points.js"></script>
        <script src="../static/js/join_points.js"></script>
        <script src="../static/js/draw_line.js"></script>
        <script src="../static/js/check_point.js"></script>
        <script src="../static/js/check_line.js"></script>
    </body>
</html>

